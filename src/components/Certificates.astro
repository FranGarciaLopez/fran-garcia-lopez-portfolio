---
const { lang } = Astro.props as { lang: "es" | "en" };

const certificates = [
       {
              title: {
                     en: "Full Stack Development Master",
                     es: "Máster en Desarrollo Full Stack",
              },
              issuer: "Nuclio Digital School",
              year: "2025",
              image: "/certificates/master-full-stack-nuclio-cert.webp",
       },
       {
              title: {
                     en: "Learn to Program with Python",
                     es: "Aprende a Programar con Python",
              },
              issuer: "Online Course",
              year: "2023",
              image: "/certificates/aprende-a-programar-con-python.webp",
       },
       {
              title: {
                     en: "Learn Git",
                     es: "Aprende Git",
              },
              issuer: "Online Course",
              year: "2023",
              image: "/certificates/aprende-git.webp",
       },
       {
              title: {
                     en: "Web Scraping",
                     es: "Web Scraping",
              },
              issuer: "Online Course",
              year: "2023",
              image: "/certificates/web-scraping-cert.webp",
       },
       {
              title: {
                     en: "Intensive Course with Notion",
                     es: "Curso Intensivo con Notion",
              },
              issuer: "Online Course",
              year: "2025",
              image: "/certificates/curso-intensivo-con-notion.webp",
       },
];

const sectionTitle = {
       en: "Certifications & Achievements",
       es: "Certificaciones y Logros",
};

const sectionSubtitle = {
       en: "Professional Development",
       es: "Desarrollo Profesional",
};
---

<section
       id="certificates"
       class="flex flex-col w-full px-6 md:px-16 lg:px-24 xl:px-32 py-20 mx-auto max-w-7xl"
>
       <!-- Header -->
       <div class="text-center space-y-4 mb-12">
              <h2
                     class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-serif text-[#f5f5dc] leading-tight tracking-tight"
              >
                     {sectionTitle[lang]}
              </h2>
              <h3
                     class="text-xl sm:text-2xl text-[#c2b280] font-light tracking-wide"
              >
                     {sectionSubtitle[lang]}
              </h3>
              <div
                     class="h-1 w-24 bg-gradient-to-r from-[#c2b280] to-transparent mx-auto"
              >
              </div>
       </div>

       <!-- Certificates Grid -->
       <div
              class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8"
       >
              {
                     certificates.map((cert) => (
                            <article class="group relative border-2 border-[#c2b280]/30 bg-gradient-to-br from-black/40 to-black/20 backdrop-blur-md rounded-xl overflow-hidden hover:border-[#c2b280]/60 hover:shadow-2xl transition-all duration-300 hover:-translate-y-2">
                                   {/* Certificate Image */}
                                   <div class="relative aspect-[4/3] overflow-hidden bg-black/60">
                                          <img
                                                 src={cert.image}
                                                 alt={`${cert.title[lang]} certificate`}
                                                 class="w-full h-full object-contain p-4 group-hover:scale-105 transition-transform duration-300"
                                                 loading="lazy"
                                                 width="400"
                                                 height="300"
                                          />
                                          {/* Overlay on hover */}
                                          <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-6">
                                                 <div class="text-white">
                                                        <p class="text-sm font-semibold text-[#c2b280]">
                                                               {cert.issuer}
                                                        </p>
                                                        <p class="text-xs text-gray-300">
                                                               {cert.year}
                                                        </p>
                                                 </div>
                                          </div>
                                   </div>

                                   {/* Certificate Info */}
                                   <div class="p-4 sm:p-6">
                                          <h3 class="text-lg sm:text-xl font-semibold text-[#f5f5dc] mb-2 line-clamp-2">
                                                 {cert.title[lang]}
                                          </h3>
                                          <div class="flex items-center justify-between text-sm text-gray-400">
                                                 <span class="flex items-center gap-1">
                                                        <svg
                                                               class="w-4 h-4 text-[#c2b280]"
                                                               fill="none"
                                                               stroke="currentColor"
                                                               viewBox="0 0 24 24"
                                                               aria-hidden="true"
                                                        >
                                                               <path
                                                                      stroke-linecap="round"
                                                                      stroke-linejoin="round"
                                                                      stroke-width="2"
                                                                      d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"
                                                               />
                                                        </svg>
                                                        {cert.issuer}
                                                 </span>
                                                 <span class="text-[#c2b280] font-medium">
                                                        {cert.year}
                                                 </span>
                                          </div>
                                   </div>

                                   {/* Click overlay for viewing full image */}
                                   <a
                                          href={cert.image}
                                          target="_blank"
                                          rel="noopener noreferrer"
                                          class="absolute inset-0"
                                          aria-label={`View ${cert.title[lang]} certificate`}
                                   >
                                          <span class="sr-only">
                                                 View certificate
                                          </span>
                                   </a>
                            </article>
                     ))
              }
       </div>

       <!-- View More Message (if needed in future) -->
       <div class="text-center mt-12">
              <p class="text-gray-400 text-sm">
                     {
                            lang === "en"
                                   ? "Click on any certificate to view it in full size"
                                   : "Haz clic en cualquier certificado para verlo en tamaño completo"
                     }
              </p>
       </div>
</section>

<style>
       .line-clamp-2 {
              display: -webkit-box;
              -webkit-line-clamp: 2;
              -webkit-box-orient: vertical;
              overflow: hidden;
       }
</style>
